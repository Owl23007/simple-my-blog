<template>
  <div class="posts-list-wrapper">
    <Timeline :items="timelineItems" />
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import Timeline from './Timeline.vue'

interface TimelineItem {
  title: string
  date?: string | Date
  description?: string
  link?: string
  icon?: string
  color?: string
  tags?: string[]
}

// ç¡¬ç¼–ç çš„ posts æ•°æ®ï¼Œä» docs/posts ç›®å½•ä¸­çš„ .md æ–‡ä»¶å…ƒæ•°æ®æå–
const postsData = [
  {
    title: 'æ“ä½œç³»ç»Ÿè°ƒåº¦çš„æœºåˆ¶',
    date: '2025-11-03',
    description: 'ä¸¤çº§è°ƒåº¦ã€æŠ¢å æ€§ä¸å¤šçº§åé¦ˆé˜Ÿåˆ—çš„è§£æ',
    link: '/posts/æ“ä½œç³»ç»Ÿè°ƒåº¦çš„æœºåˆ¶',
    tags: ['æ“ä½œç³»ç»Ÿ', 'è°ƒåº¦ç®—æ³•', 'CPUè°ƒåº¦']
  },
  {
    title: 'Java ä¸­çš„ä½è¿ç®—',
    date: '2025-10-31',
    description: 'æ·±å…¥ç†è§£ Java ä¸­çš„ä½è¿ç®—ç¬¦åŠå…¶å¸¸è§åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬æŒ‰ä½ä¸ã€æˆ–ã€å¼‚æˆ–ã€å–åã€å·¦ç§»ã€å³ç§»ç­‰æ“ä½œã€‚',
    link: '/posts/ä½è¿ç®—',
    tags: ['Java', 'ä½è¿ç®—']
  },
  {
    title: 'æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢',
    date: '2025-10-25',
    description: 'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œä»‹ç»å¦‚ä½•ä½¿ç”¨VitePressæ­å»ºä¸ªäººåšå®¢ã€‚',
    link: '/posts/æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢',
    tags: ['åšå®¢', 'VitePress', 'æŠ€æœ¯']
  }
]

const timelineItems = computed<TimelineItem[]>(() => {
  return postsData
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
    .map((post) => ({
      title: post.title,
      date: post.date,
      description: post.description,
      link: post.link,
      tags: post.tags,
      icon: 'ğŸ“',
      color: 'var(--vp-c-brand)'
    }))
})
</script>

<style scoped>
.posts-list-wrapper {
  width: 100%;
  padding: 20px 0;
}
</style>
