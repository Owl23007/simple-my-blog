---
title: HTTPS çš„è¯ä¹¦é…ç½®
description: è®°å½•ä¸€ä¸‹å¯¹ HTTPS çš„è¯ä¹¦é…ç½®çš„æ¥æ—¶è·¯
tags: [HTTPS, è¯ä¹¦]
date: 2025-11-24
author: æ²ƒä»¥
---

# ä»Žè…¾è®¯äº‘å…è´¹è¯ä¹¦è¿ç§»åˆ° Certbotï¼šä¸€æ¬¡ HTTPS è‡ªåŠ¨åŒ–ä¹‹æ—…

https åœ¨æˆ‘å°è±¡ä¸­ï¼Œä¸€ç›´æ˜¯ä¸€ä¸ªæ”¶è´¹æ˜‚è´µçš„è§£å†³æ–¹æ¡ˆï¼Œé˜¿é‡Œäº‘ä¸ŠåŠ¨è¾„300 å…ƒ/å¹´ï¼Œå¯¹äºŽæˆ‘æ¥è¯´ï¼Œè¿™å¤ªè´µäº†ã€‚åœ¨24å¹´çš„æ—¶å€™ï¼Œå’Œå®¤å‹ä¸€èµ·å‚åŠ äº† ä¸­å›½å¤§å­¦ç”Ÿè®¡ç®—æœºè®¾è®¡å¤§èµ›ã€‚ä¸ºäº†èƒ½åœ¨å…¬ç½‘è®¿é—®æˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘åœ¨è…¾è®¯äº‘ä¸Šç”³è¯·äº†å…è´¹çš„ SSL è¯ä¹¦ï¼ŒåŽæ¥ç”¨äºŽæˆ‘çš„ä¸ªäººåšå®¢ç½‘ç«™ã€‚

è™½ç„¶æ˜¯æ‰‹åŠ¨çš„ï¼Œé…ç½®nginx åœ¨windowsæœåŠ¡å™¨ä¸Šä½¿ç”¨ï¼Œä½†æ€»ç®—æ˜¯å®žçŽ°äº† httpsã€‚

> å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªå¤§å­¦ç”Ÿè®¡ç®—æœºè®¾è®¡å¤§èµ›ä¸­å—èµ›åŒºçš„è¯„åˆ¤ä¸­ï¼Œæ ¹æœ¬æ²¡æœ‰è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™å°±éšä¾¿ç»™äº†ä¸ªåˆ†æ•°ï¼Œå¤ªè®©æˆ‘ç”Ÿæ°”äº†...ðŸ¤’

ä½†æœåŠ¡å™¨æœ¬èº«çš„æˆæœ¬æ˜‚è´µï¼Œ2h2g è…¾è®¯äº‘ä¸€å¹´è¦ 99 å…ƒï¼Œè¿˜æ˜¯åœ¨æˆ‘æ‰¿å—çš„èŒƒå›´å†…ã€‚åœ¨2h2gçš„æœåŠ¡å™¨ä¸Šä½¿ç”¨windowsç³»ç»Ÿï¼Œå®žåœ¨æ˜¯å¤ªåƒåŠ›äº†ã€‚åŽæ¥æˆ‘æŠŠæœåŠ¡å™¨æ¢æˆäº† ubuntu ç³»ç»Ÿï¼Œé‡æ–°é…ç½®äº† Nginxã€‚

ä½†ä½ çŸ¥é“çš„ linux çš„ä¸€åˆ‡æ“ä½œéƒ½æ˜¯å‘½ä»¤è¡Œï¼Œå¹³å‡¡çš„ shell å‘½ä»¤è¡Œæ“ä½œå®žåœ¨æ˜¯å¤ªç¹çäº†ï¼Œä¸Žæ­¤åŒæ—¶ï¼Œåœ¨googleçš„æŽ¨è¿›ä¸‹ï¼Œhttpsè¯ä¹¦çš„æœ‰æ•ˆæœŸè¢«ç¼©çŸ­åˆ°äº†90å¤©ã€‚æ¯æ¬¡è¯ä¹¦åˆ°æœŸå‰ï¼Œæˆ‘éƒ½å¾—ç™»å½•è…¾è®¯äº‘æŽ§åˆ¶å°ï¼Œé‡æ–°ä¸‹è½½ã€ä¸Šä¼ ã€é‡è½½ Nginx æœåŠ¡ã€‚

äºŽæ˜¯ï¼Œåœ¨25å¹´é‡å¯åšå®¢ç½‘ç«™çš„é€”ä¸­ï¼Œä¸Žå…¶å†è¯•å›¾èŽ·å–è…¾è®¯äº‘æŽ¥å£ï¼Œå†å†™è„šæœ¬æ¥å®žçŽ°è‡ªåŠ¨åŒ–ï¼Œä¸å¦‚å½»åº•è¿ç§»åˆ° **Certbot + Let's Encrypt** æ–¹æ¡ˆï¼Œå®žçŽ°çœŸæ­£çš„ä¸€é”®éƒ¨ç½²ã€è‡ªåŠ¨ç»­æœŸã€‚

è¿™ä¸ªåšå®¢å°±æ˜¯è®°å½•ä¸€ä¸‹ Certbot çš„ä½¿ç”¨æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•å®žçŽ°è‡ªåŠ¨åŒ–ã€‚

## è¿ç§»å‰å‡†å¤‡

æˆ‘çš„æœåŠ¡å™¨çŽ¯å¢ƒï¼š

- Ubuntu 22.04 LTS
- Nginx ä½œä¸ºåå‘ä»£ç†
- åŸŸåå·²æ­£ç¡®è§£æžåˆ°æœåŠ¡å™¨å…¬ç½‘ IP
- 80 å’Œ 443 ç«¯å£å·²åœ¨è…¾è®¯äº‘å®‰å…¨ç»„å¼€æ”¾

ç¡®ä¿ç«™ç‚¹å¯é€šè¿‡ `http://your-domain/.well-known/acme-challenge/` ä¸´æ—¶è·¯å¾„è¢«å¤–ç½‘è®¿é—®ï¼ˆCertbot éªŒè¯åŸŸåæ‰€æœ‰æƒå¿…éœ€ï¼‰ã€‚

## å®‰è£… Certbot

```bash
sudo apt update
sudo apt install certbot python3-certbot-nginx -y
```

## èŽ·å–å¹¶è‡ªåŠ¨é…ç½®è¯ä¹¦

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒCertbot ä¼šè‡ªåŠ¨æ£€æµ‹ Nginx é…ç½®ä¸­çš„ `server_name`ï¼Œå¹¶å®Œæˆè¯ä¹¦ç”³è¯·ä¸Ž HTTPS é…ç½®ï¼š

```bash
sudo certbot --nginx -d example.com -d www.example.com
```

::: tip
 å¦‚æžœè¿™é‡Œä½ åƒæˆ‘ä¸€æ ·ï¼ŒåŒæ—¶é…ç½®äº† domain.com å’Œ www.domain.com ä¸¤ä¸ªåŸŸåï¼Œè¯·ç¡®ä¿ä¸¤ä¸ªåŸŸåéƒ½å·²ç»æ­£ç¡®è§£æžåˆ°æœåŠ¡å™¨ IPï¼Œå¦åˆ™ä¼šç”³è¯·å¤±è´¥ã€‚
:::

è¿‡ç¨‹ä¸­ä¼šæç¤ºï¼š

- è¾“å…¥é‚®ç®±ï¼ˆç”¨äºŽè¯ä¹¦åˆ°æœŸæé†’ï¼‰
- åŒæ„ Let's Encrypt æœåŠ¡æ¡æ¬¾
- æ˜¯å¦å°† HTTP è¯·æ±‚è‡ªåŠ¨é‡å®šå‘åˆ° HTTPSï¼ˆå¼ºçƒˆå»ºè®®é€‰ **2ï¼šè‡ªåŠ¨é‡å®šå‘**ï¼‰

å®ŒæˆåŽï¼ŒNginx é…ç½®ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ–°å¢ž SSL ç›¸å…³æŒ‡ä»¤ï¼Œå¹¶è®¾ç½® 301 é‡å®šå‘ã€‚

## éªŒè¯è‡ªåŠ¨ç»­æœŸ

Let's Encrypt è¯ä¹¦æœ‰æ•ˆæœŸä¸º **90 å¤©**ï¼Œä½† Certbot ä¼šé€šè¿‡ systemd timer æˆ– cron è‡ªåŠ¨ç»­æœŸã€‚å¯æ‰‹åŠ¨æµ‹è¯•ç»­æœŸæµç¨‹ï¼š

```bash
sudo certbot renew --dry-run
```

å¦‚æžœè¾“å‡ºæ˜¾ç¤ºæˆåŠŸï¼Œè¯´æ˜Žè‡ªåŠ¨ç»­æœŸæœºåˆ¶å·²æ­£å¸¸å·¥ä½œã€‚

## æ€»ä¹‹

ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘è¶Šæ¥è¶Šä½“ä¼šåˆ°ï¼š**â€œèƒ½è‡ªåŠ¨åŒ–çš„ç»ä¸æ‰‹åŠ¨ï¼Œèƒ½å¼€æºçš„ç»ä¸é—­æºâ€**ã€‚è¿™ä¸€æ¬¡å°å°çš„è¿ç§»ï¼Œä¹Ÿè®©æˆ‘å°‘äº†ä¸å°‘çš„éº»çƒ¦ã€‚

> 2025 å¹´ 11 æœˆ 24 æ—¥ Â· äºŽæ­¦æ±‰ Â· æ²ƒä»¥
